.project-badge {
  @apply ml-auto px-3 py-1.5 rounded-full text-[13px] font-medium flex items-center gap-2;
  background: var(--bg-panel);
  border: 1px solid var(--border-subtle);
  box-shadow: var(--shadow-sm);
}

.project-stats-card {
  @apply p-6 mb-6 flex items-center gap-6 relative overflow-hidden;
  background: linear-gradient(135deg, var(--bg-panel) 0%, rgba(24, 24, 27, 0.95) 100%);
  border: 1px solid var(--border-subtle);
  border-left: 4px solid var(--primary);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-sm);
}

.project-stats-card::before {
  content: '';
  @apply absolute top-0 right-0 w-32 h-32 opacity-5 -translate-y-1/2 translate-x-1/4;
  background: radial-gradient(circle, var(--primary) 0%, transparent 70%);
}

.project-icon {
  @apply w-16 h-16 flex items-center justify-center text-[28px] flex-shrink-0;
  border-radius: var(--radius-md);
  background: var(--bg-subtle);
  color: var(--primary);
}

.project-info {
  @apply flex-1 min-w-0;
}

.project-info h3 {
  @apply m-0 mb-1 text-xl;
  font-family: var(--font-heading);
}

.project-info p {
  @apply m-0 text-sm;
  color: var(--text-secondary);
}

.project-mini-stats {
  @apply flex gap-6 items-center pl-6;
  border-left: 1px solid var(--border-subtle);
}

.mini-stat {
  @apply text-center;
}

.mini-stat .mini-value {
  @apply block text-xl font-bold;
  font-family: var(--font-heading);
  color: var(--text-primary);
}

.mini-stat .mini-label {
  @apply text-[11px] uppercase tracking-wider mt-1;
  color: var(--text-tertiary);
}

.mini-stat.todo .mini-value {
  color: var(--color-warning);
}

.mini-stat.in-progress .mini-value {
  color: var(--color-info);
}

.mini-stat.done .mini-value {
  color: var(--color-success);
}

.progress-ring {
  @apply relative w-14 h-14;
}

.progress-ring svg {
  @apply w-full h-full -rotate-90;
}

.progress-ring .progress-bg {
  @apply fill-none;
  stroke: var(--bg-subtle);
  stroke-width: 4;
}

.progress-ring .progress-fill {
  @apply fill-none;
  stroke: var(--primary);
  stroke-width: 4;
  stroke-linecap: round;
  transition: stroke-dasharray 0.3s;
}

.progress-ring .progress-text {
  @apply absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-xs font-bold;
  color: var(--text-primary);
}

.project-link {
  @apply px-4 py-2.5 text-[13px] font-medium flex items-center gap-2 no-underline transition-all duration-200;
  background: var(--bg-subtle);
  color: var(--text-primary);
  border-radius: var(--radius-sm);
}

.project-link:hover {
  background: var(--bg-app);
  color: var(--primary);
}

.quick-stats {
  @apply grid grid-cols-4 gap-5 mb-6;
}

.stat-card {
  @apply p-5 flex items-center gap-4 transition-all duration-200 relative overflow-hidden;
  background: linear-gradient(145deg, var(--bg-panel) 0%, rgba(24, 24, 27, 0.9) 100%);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-sm);
}

.stat-card::before {
  content: '';
  @apply absolute top-0 right-0 w-20 h-20 rounded-full opacity-10 -translate-y-1/2 translate-x-1/2;
  background: radial-gradient(circle, currentColor 0%, transparent 70%);
}

.stat-card:hover {
  @apply -translate-y-1;
  box-shadow: 0 8px 25px -5px rgba(0, 0, 0, 0.3);
  border-color: var(--border-highlight);
}

.stat-card i {
  @apply text-2xl w-12 h-12 rounded-xl flex items-center justify-center;
  background: var(--bg-subtle);
}

.stat-card.accent i {
  color: var(--primary);
  background: rgba(99, 102, 241, 0.15);
}

.stat-card.warning i {
  color: var(--color-warning);
  background: rgba(245, 158, 11, 0.15);
}

.stat-card.danger i {
  color: var(--color-danger);
  background: rgba(239, 68, 68, 0.15);
}

.stat-card.success i {
  color: var(--color-success);
  background: rgba(34, 197, 94, 0.15);
}

.stat-info {
  @apply flex flex-col;
}

.stat-value {
  @apply text-2xl font-bold leading-tight;
  font-family: var(--font-heading);
}

.stat-label {
  @apply text-xs;
  color: var(--text-secondary);
}

.dashboard-grid {
  @apply grid grid-cols-2 gap-6 mb-6;
}

.card-header {
  @apply flex items-center justify-between mb-5 pb-4;
  border-bottom: 1px solid var(--border-subtle);
}

.card-header h3 {
  @apply text-base flex items-center gap-2;
}

.card.urgent .card-header h3 i {
  color: var(--color-danger);
}

.card.today .card-header h3 i {
  color: var(--color-warning);
}

.card.progress .card-header h3 i {
  color: var(--color-info);
}

.card.week .card-header h3 i {
  color: var(--primary);
}

.count {
  @apply px-2.5 py-0.5 rounded-full text-xs font-semibold;
  background: var(--bg-subtle);
  color: var(--text-secondary);
}

.count.danger {
  background: rgba(239, 68, 68, 0.15);
  color: var(--color-danger);
}

.count.accent {
  background: rgba(59, 130, 246, 0.15);
  color: var(--color-info);
}

.count.plan {
  background: rgba(99, 102, 241, 0.15);
  color: var(--primary);
}

.ticket-list {
  @apply flex flex-col gap-3;
}

.ticket-list.horizontal {
  @apply flex-row overflow-x-auto gap-4 pb-1;
}

.ticket-item {
  @apply flex items-center gap-3 px-4 py-3 border border-transparent cursor-pointer transition-all duration-200 relative;
  background: var(--bg-subtle);
  border-radius: var(--radius-sm);
}

.ticket-item::after {
  content: '';
  @apply absolute right-3 opacity-0 transition-all duration-200;
  font-family: "Font Awesome 6 Free";
  font-weight: 900;
  content: "\f054";
  font-size: 10px;
  color: var(--text-tertiary);
}

.ticket-item:hover {
  @apply -translate-x-0.5;
  background: var(--bg-hover);
  border-color: var(--border-highlight);
  box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.15);
}

.ticket-item:hover::after {
  @apply opacity-100;
}

.ticket-item .title {
  @apply flex-1 text-sm font-medium;
  color: var(--text-primary);
}

.ticket-item .due {
  @apply text-xs;
  color: var(--text-tertiary);
}

.ticket-item .due.danger {
  @apply font-semibold px-2 py-0.5 rounded;
  color: var(--color-danger);
  background: rgba(239, 68, 68, 0.15);
}

.priority i {
  @apply text-[8px];
}

.priority.do {
  color: var(--color-danger);
}

.priority.plan {
  color: var(--color-info);
}

.priority.delegate {
  color: var(--color-warning);
}

.priority.eliminate {
  color: var(--text-tertiary);
}

.mini-progress {
  @apply w-[60px] h-1 rounded-sm overflow-hidden;
  background: var(--border-subtle);
}

.mini-bar {
  @apply h-full rounded-sm;
  background: var(--primary);
}

.empty {
  @apply p-8 text-center text-sm flex items-center justify-center gap-2.5;
  color: var(--text-tertiary);
  border: 1px dashed var(--border-subtle);
  border-radius: var(--radius-sm);
}

.see-more {
  @apply text-center p-2 text-xs font-semibold cursor-pointer block mt-2 no-underline;
  color: var(--primary);
}

.see-more:hover {
  @apply underline;
}

.ticket-card-mini {
  @apply min-w-[200px] p-4 cursor-pointer transition-all duration-200 border-l-[3px] border-l-transparent relative overflow-hidden;
  background: linear-gradient(145deg, var(--bg-panel) 0%, rgba(24, 24, 27, 0.95) 100%);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
}

.ticket-card-mini::before {
  content: '';
  @apply absolute inset-0 opacity-0 transition-opacity duration-300;
  background: linear-gradient(135deg, rgba(99, 102, 241, 0.05) 0%, transparent 50%);
}

.ticket-card-mini:hover {
  @apply -translate-y-1;
  box-shadow: 0 8px 25px -5px rgba(0, 0, 0, 0.25);
  border-color: var(--border-highlight);
}

.ticket-card-mini:hover::before {
  @apply opacity-100;
}

.ticket-card-mini.do {
  border-left-color: var(--color-danger);
}

.ticket-card-mini.plan {
  border-left-color: var(--color-info);
}

.ticket-card-mini.delegate {
  border-left-color: var(--color-warning);
}

.ticket-card-mini.eliminate {
  border-left-color: var(--text-tertiary);
}

.ticket-card-mini .card-priority {
  @apply mb-2 flex justify-between;
}

.ticket-card-mini .card-title {
  @apply font-semibold text-sm mb-3;
  color: var(--text-primary);
}

/* Widget System */
.header-actions {
  @apply ml-auto flex gap-3;
}

.btn-edit-layout {
  @apply px-4 py-2 cursor-pointer flex items-center gap-2 text-[13px] transition-all duration-200;
  background: var(--bg-subtle);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-sm);
  color: var(--text-secondary);
}

.btn-edit-layout:hover {
  background: var(--bg-hover);
  color: var(--text-primary);
}

.btn-edit-layout.active {
  background: var(--primary);
  border-color: var(--primary);
  @apply text-white;
}

.edit-toolbar {
  @apply flex justify-between items-center px-5 py-4 mb-5;
  background: var(--bg-panel);
  border: 1px solid var(--primary);
  border-radius: var(--radius-md);
}

.edit-hint {
  @apply text-[13px] flex items-center gap-2;
  color: var(--text-secondary);
}

.edit-hint i {
  color: var(--primary);
}

.toolbar-actions {
  @apply flex gap-3;
}

.btn-add-widget,
.btn-reset {
  @apply px-4 py-2 cursor-pointer flex items-center gap-2 text-[13px] transition-all duration-200;
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-sm);
}

.btn-add-widget {
  background: var(--primary);
  border-color: var(--primary);
  @apply text-white;
}

.btn-add-widget:hover {
  @apply brightness-110;
}

.btn-reset {
  @apply bg-transparent;
  color: var(--text-secondary);
}

.btn-reset:hover {
  background: var(--bg-subtle);
}

.widget-catalog {
  @apply p-5 mb-5;
  background: var(--bg-panel);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
}

.widget-catalog h4 {
  @apply m-0 mb-4 text-sm;
  color: var(--text-secondary);
}

.catalog-grid {
  @apply flex flex-wrap gap-3;
}

.catalog-item {
  @apply px-4 py-3 cursor-pointer flex items-center gap-2.5 text-[13px] transition-all duration-200;
  background: var(--bg-subtle);
  border: 1px dashed var(--border-subtle);
  border-radius: var(--radius-sm);
  color: var(--text-secondary);
}

.catalog-item:hover {
  background: var(--bg-hover);
  border-color: var(--primary);
  color: var(--text-primary);
}

.catalog-item .add-icon {
  @apply ml-2;
  color: var(--primary);
}

.no-widgets {
  @apply italic p-2;
  color: var(--text-tertiary);
}

/* Widget Grid */
.widget-grid {
  @apply grid grid-cols-2 gap-5 mb-6;
}

.widget-grid.edit-mode .widget {
  @apply cursor-grab;
  border: 2px dashed var(--border-highlight);
  animation: widget-pulse 2s infinite;
}

@keyframes widget-pulse {
  0%, 100% {
    border-color: var(--border-highlight);
  }
  50% {
    border-color: var(--primary);
  }
}

.widget-grid.edit-mode .widget:hover {
  @apply -translate-y-1;
  border-color: var(--primary);
  box-shadow: 0 8px 25px rgba(99, 102, 241, 0.2);
}

.widget-grid.edit-mode .widget:active {
  @apply cursor-grabbing scale-[1.02];
}

.widget {
  @apply overflow-hidden relative transition-all duration-200;
  background: linear-gradient(180deg, var(--bg-panel) 0%, rgba(24, 24, 27, 0.97) 100%);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  box-shadow: 0 2px 8px -2px rgba(0, 0, 0, 0.15);
}

.widget:hover {
  border-color: var(--border-highlight);
  box-shadow: 0 4px 15px -3px rgba(0, 0, 0, 0.2);
}

.widget.size-small {
  @apply col-span-1;
}

.widget.size-medium {
  @apply col-span-1;
}

.widget.size-large {
  @apply col-span-2;
}

.widget.dragging {
  @apply opacity-70 scale-[1.02];
  transform: rotate(1deg);
  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
  z-index: 100;
  border-color: var(--primary);
}

.widget.drag-over {
  border: 2px dashed var(--primary);
  background: rgba(99, 102, 241, 0.05);
  box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.15);
}

.widget-controls {
  @apply flex items-center gap-3 px-4 py-2.5;
  background: rgba(99, 102, 241, 0.1);
  border-bottom: 1px solid var(--border-subtle);
}

.drag-handle {
  @apply cursor-grab p-1;
  color: var(--text-tertiary);
}

.drag-handle:active {
  @apply cursor-grabbing;
}

.size-controls {
  @apply flex gap-1 ml-auto;
}

.size-controls button {
  @apply w-7 h-7 rounded cursor-pointer text-[11px] font-semibold;
  border: 1px solid var(--border-subtle);
  background: var(--bg-subtle);
  color: var(--text-tertiary);
}

.size-controls button:hover {
  background: var(--bg-hover);
}

.size-controls button.active {
  background: var(--primary);
  border-color: var(--primary);
  @apply text-white;
}

.btn-hide {
  @apply px-2.5 py-1.5 bg-transparent border-none cursor-pointer rounded;
  color: var(--text-tertiary);
}

.btn-hide:hover {
  color: var(--color-danger);
  background: rgba(239, 68, 68, 0.1);
}

.widget-content {
  @apply p-5;
}

.widget-content.stats-summary {
  @apply grid gap-4;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
}

.widget-content.stats-summary .stat-card {
  @apply p-4;
}

/* Card Widget Styles */
.card-widget .card-header {
  @apply mb-4 pb-3;
}

.card-widget .card-header h3 {
  @apply text-[15px] m-0;
}

.card-widget.urgent .card-header h3 i {
  color: var(--color-danger);
}

.card-widget.today .card-header h3 i {
  color: var(--color-warning);
}

.card-widget.progress .card-header h3 i {
  color: var(--color-info);
}

.card-widget.week .card-header h3 i {
  color: var(--primary);
}

/* Priority Chart */
.priority-chart {
  @apply py-2;
}

.priority-bar {
  @apply flex h-6 rounded-md overflow-hidden mb-4;
}

.bar-segment {
  @apply transition-all duration-300;
}

.bar-segment.do { background: var(--color-danger); }
.bar-segment.plan { background: var(--color-info); }
.bar-segment.delegate { background: var(--color-warning); }
.bar-segment.eliminate { color: var(--text-tertiary); background: var(--text-tertiary); }

.priority-legend {
  @apply flex flex-wrap gap-3;
}

.legend-item {
  @apply text-xs flex items-center gap-1.5;
  color: var(--text-secondary);
}

.legend-item i {
  @apply text-[8px];
}

.legend-item i.do { color: var(--color-danger); }
.legend-item i.plan { color: var(--color-info); }
.legend-item i.delegate { color: var(--color-warning); }
.legend-item i.eliminate { color: var(--text-tertiary); }

/* Quick Actions */
.quick-actions .actions-grid {
  @apply grid grid-cols-2 gap-3;
}

.action-btn {
  @apply p-4 cursor-pointer flex flex-col items-center gap-2 transition-all duration-200;
  background: var(--bg-subtle);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-sm);
  color: var(--text-secondary);
}

.action-btn:hover {
  background: var(--bg-hover);
  color: var(--primary);
  border-color: var(--primary);
}

.action-btn i {
  @apply text-xl;
}

.action-btn span {
  @apply text-xs;
}

/* Calendar Mini */
.calendar-mini .calendar-header {
  @apply grid grid-cols-7 text-center text-[11px] mb-2;
  color: var(--text-tertiary);
}

.calendar-days {
  @apply grid grid-cols-7 gap-1;
}

.calendar-days .day {
  @apply aspect-square flex items-center justify-center text-xs rounded-full;
  color: var(--text-secondary);
}

.calendar-days .day.today {
  @apply font-semibold text-white;
  background: var(--primary);
}

.calendar-days .day.has-event {
  background: rgba(99, 102, 241, 0.2);
  color: var(--primary);
}

.calendar-days .day.empty {
  @apply invisible;
}

/* Project Progress Widget */
.project-progress {
  @apply flex items-center gap-6;
}

.progress-visual {
  @apply relative w-[100px] h-[100px];
}

.progress-visual svg {
  @apply w-full h-full;
}

.progress-center {
  @apply absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center;
}

.progress-center .progress-value {
  @apply block text-xl font-bold;
  color: var(--text-primary);
}

.progress-center .progress-label {
  @apply text-[11px];
  color: var(--text-tertiary);
}

.progress-details {
  @apply flex-1;
}

.detail-row {
  @apply flex justify-between py-2;
  border-bottom: 1px solid var(--border-subtle);
}

.detail-row:last-child {
  @apply border-b-0;
}

.detail-row .label {
  @apply text-[13px];
  color: var(--text-secondary);
}

.detail-row .value {
  @apply font-semibold text-sm;
}

/* No Widgets State */
.no-widgets-state {
  @apply text-center py-20 px-5;
  color: var(--text-tertiary);
}

.no-widgets-state i {
  @apply text-6xl mb-5 opacity-50;
}

.no-widgets-state h3 {
  @apply m-0 mb-2.5;
  color: var(--text-primary);
}

.no-widgets-state p {
  @apply m-0;
}

/* Mobile Responsive */
@media (max-width: 900px) {
  .quick-stats {
    @apply grid-cols-2;
  }

  .dashboard-grid {
    @apply grid-cols-1;
  }

  .widget-grid {
    @apply grid-cols-1;
  }

  .widget.size-large {
    @apply col-span-1;
  }

  .project-stats-card {
    @apply flex-wrap;
  }

  .project-mini-stats {
    @apply w-full border-l-0 border-t pl-0 pt-5 justify-between;
    border-color: var(--border-subtle);
  }

  .edit-toolbar {
    @apply flex-col gap-3 text-center;
  }

  .toolbar-actions {
    @apply w-full justify-center;
  }
}

@media (max-width: 500px) {
  .quick-stats {
    @apply grid-cols-1;
  }

  .widget-content.stats-summary {
    @apply grid-cols-1;
  }

  .quick-actions .actions-grid {
    @apply grid-cols-1;
  }
}
