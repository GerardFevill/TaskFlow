.page-header {
  @apply flex items-center gap-4;
}

.select-mode-btn {
  @apply ml-auto px-4 py-2 rounded-lg cursor-pointer flex items-center gap-2 text-[13px];
  background: var(--bg-tertiary);
  border: 1px solid var(--border);
  color: var(--text);
}

.select-mode-btn:hover {
  background: var(--border);
}

.select-mode-btn.active {
  background: var(--accent);
  border-color: var(--accent);
  @apply text-white;
}

.bulk-actions {
  @apply flex items-center gap-4 px-5 py-3 rounded-xl mb-5 animate-slide-down;
  background: var(--accent);
}

.selected-count {
  @apply flex items-center gap-2 text-white font-semibold;
}

.bulk-buttons {
  @apply flex gap-2 flex-1;
}

.bulk-btn {
  @apply px-3.5 py-2 border-none rounded-md text-white cursor-pointer flex items-center gap-1.5 text-[13px] transition-all duration-200;
  background: rgba(255, 255, 255, 0.2);
}

.bulk-btn:hover {
  background: rgba(255, 255, 255, 0.3);
}

.bulk-btn.edit {
  background: rgba(78, 205, 196, 0.8);
}

.bulk-btn.edit:hover {
  background: rgba(78, 205, 196, 1);
}

.bulk-btn.archive {
  background: rgba(255, 165, 2, 0.8);
}

.bulk-btn.archive:hover {
  background: rgba(255, 165, 2, 1);
}

.bulk-btn.danger {
  background: rgba(214, 48, 49, 0.8);
}

.bulk-btn.danger:hover {
  background: rgba(214, 48, 49, 1);
}

.bulk-clear {
  @apply bg-transparent border-none text-white cursor-pointer p-2 text-lg opacity-70;
}

.bulk-clear:hover {
  @apply opacity-100;
}

.select-all-col {
  @apply ml-auto bg-transparent border-none cursor-pointer text-xs;
  color: var(--text-muted);
}

.select-all-col:hover {
  color: var(--accent);
}

.filters {
  @apply flex gap-2.5 mb-5 flex-wrap items-center;
}

.filter-btn {
  @apply px-4 py-2.5 border-2 border-transparent rounded-lg font-semibold text-xs cursor-pointer transition-all duration-200 flex items-center gap-2;
}

.filter-btn.all {
  background: var(--bg-tertiary);
  color: var(--text);
}

.filter-btn.all.active {
  border-color: var(--accent);
}

.filter-btn.do {
  background: rgba(255, 107, 107, 0.15);
  color: var(--do);
}

.filter-btn.do.active {
  border-color: var(--do);
  background: rgba(255, 107, 107, 0.3);
}

.filter-btn.plan {
  background: rgba(78, 205, 196, 0.15);
  color: var(--plan);
}

.filter-btn.plan.active {
  border-color: var(--plan);
  background: rgba(78, 205, 196, 0.3);
}

.filter-btn.delegate {
  background: rgba(255, 165, 2, 0.15);
  color: var(--delegate);
}

.filter-btn.delegate.active {
  border-color: var(--delegate);
  background: rgba(255, 165, 2, 0.3);
}

.filter-btn.eliminate {
  background: rgba(99, 110, 114, 0.15);
  color: var(--eliminate);
}

.filter-btn.eliminate.active {
  border-color: var(--eliminate);
  background: rgba(99, 110, 114, 0.3);
}

.label-filter {
  @apply relative ml-auto;
}

.label-filter-btn {
  @apply px-4 py-2.5 rounded-lg cursor-pointer flex items-center gap-2 text-[13px];
  background: var(--bg-tertiary);
  border: 1px solid var(--border);
  color: var(--text);
}

.label-filter-btn:hover {
  background: var(--border);
}

.label-dropdown {
  @apply absolute top-full right-0 mt-1.5 rounded-lg min-w-[180px] z-[100] overflow-hidden;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.label-option {
  @apply px-4 py-3 cursor-pointer flex items-center gap-2.5 transition-colors duration-200;
}

.label-option:hover {
  background: var(--bg-tertiary);
}

.label-dot {
  @apply w-3 h-3 rounded-full;
}

.label-check {
  @apply w-[18px] h-[18px] flex items-center justify-center text-xs;
  color: var(--accent);
}

.label-option.selected {
  background: rgba(108, 92, 231, 0.1);
}

.label-count {
  @apply px-2 py-0.5 rounded-xl text-[11px] font-semibold text-white;
  background: var(--accent);
}

/* Sort Filter */
.sort-filter {
  @apply relative;
}

.sort-btn {
  @apply px-4 py-2.5 rounded-lg cursor-pointer flex items-center gap-2 text-[13px];
  background: var(--bg-tertiary);
  border: 1px solid var(--border);
  color: var(--text);
}

.sort-btn:hover {
  background: var(--border);
}

.sort-dropdown {
  @apply absolute top-full right-0 mt-1.5 rounded-lg min-w-[160px] z-[100] overflow-hidden;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.sort-option {
  @apply px-4 py-3 cursor-pointer flex items-center gap-2.5 transition-colors duration-200;
}

.sort-option:hover {
  background: var(--bg-tertiary);
}

.sort-option.active {
  background: rgba(108, 92, 231, 0.15);
  color: var(--accent);
}

/* Planning Filters */
.planning-filter {
  @apply relative;
}

.planning-filter-btn {
  @apply px-4 py-2.5 rounded-lg cursor-pointer flex items-center gap-2 text-[13px];
  background: var(--bg-tertiary);
  border: 1px solid var(--border);
  color: var(--text);
}

.planning-filter-btn:hover {
  background: var(--border);
}

.planning-dropdown {
  @apply absolute top-full left-0 mt-1.5 rounded-lg min-w-[200px] z-[100] overflow-hidden overflow-y-auto max-h-[300px];
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.planning-option {
  @apply px-4 py-3 cursor-pointer flex items-center gap-2.5 transition-colors duration-200;
}

.planning-option:hover {
  background: var(--bg-tertiary);
}

.planning-option.active {
  background: rgba(108, 92, 231, 0.15);
  color: var(--accent);
}

.color-dot {
  @apply w-3 h-3 rounded-full;
}

.status-dot {
  @apply w-2.5 h-2.5 rounded-full;
  background: var(--text-muted);
}

.status-dot.planning {
  background: var(--warning);
}

.status-dot.active {
  background: var(--plan);
}

.status-dot.completed {
  background: var(--success);
}

.status-dot.open {
  background: var(--warning);
}

.status-dot.closed {
  background: var(--success);
}

.kanban {
  @apply flex gap-4;
}

.kanban-column {
  @apply flex-1 rounded-xl p-4 min-h-[500px] transition-all duration-200;
  background: linear-gradient(180deg, var(--bg-secondary) 0%, rgba(18, 18, 26, 0.95) 100%);
  border: 1px solid transparent;
}

.kanban-column h3 {
  @apply m-0 mb-4 text-[13px] uppercase flex items-center gap-2 font-semibold tracking-wide;
  color: var(--text-muted);
}

.kanban-column h3 i {
  @apply text-base;
}

.kanban-column.todo h3 {
  color: var(--warning);
}

.kanban-column.in_progress h3 {
  color: var(--plan);
}

.kanban-column.done h3 {
  color: var(--success);
}

.kanban-column.drag-over {
  background: rgba(108, 92, 231, 0.05);
  border: 2px dashed var(--accent);
  border-radius: 12px;
}

.kanban-column.drag-over .kanban-cards {
  min-height: 100px;
}

/* Column Count Badge */
.column-count {
  @apply ml-auto px-2 py-0.5 rounded-full text-[11px] font-semibold;
  background: var(--bg-hover);
  color: var(--text-muted);
}

.kanban-column.todo .column-count {
  background: rgba(253, 203, 110, 0.15);
  color: var(--warning);
}

.kanban-column.in_progress .column-count {
  background: rgba(78, 205, 196, 0.15);
  color: var(--plan);
}

.kanban-column.done .column-count {
  background: rgba(0, 184, 148, 0.15);
  color: var(--success);
}

/* Active Filters Summary */
.active-filters {
  @apply flex items-center gap-2 px-4 py-2.5 mb-4 rounded-lg text-[13px];
  background: rgba(108, 92, 231, 0.1);
  border: 1px solid rgba(108, 92, 231, 0.2);
}

.active-filters i {
  color: var(--accent);
}

.active-filters .filter-tag {
  @apply px-2 py-0.5 rounded text-xs;
  background: var(--bg-tertiary);
  color: var(--text);
}

.active-filters .clear-filters {
  @apply ml-auto bg-transparent border-none cursor-pointer text-xs;
  color: var(--text-muted);
}

.active-filters .clear-filters:hover {
  color: var(--accent);
}

.kanban-cards {
  @apply flex flex-col gap-2.5;
}

.kanban-card {
  @apply rounded-xl p-3.5 cursor-pointer flex gap-2.5 transition-all duration-200 relative overflow-hidden;
  background: linear-gradient(145deg, var(--bg-tertiary) 0%, rgba(39, 39, 46, 0.8) 100%);
  border: 1px solid var(--border);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.kanban-card::before {
  content: '';
  @apply absolute top-0 left-0 right-0 h-[2px] opacity-0 transition-opacity duration-200;
  background: linear-gradient(90deg, var(--accent), var(--accent-hover));
}

.kanban-card:hover {
  @apply -translate-y-1;
  border-color: rgba(108, 92, 231, 0.5);
  box-shadow: 0 8px 20px -4px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(108, 92, 231, 0.2);
}

.kanban-card:hover::before {
  @apply opacity-100;
}

.kanban-card.dragging {
  @apply opacity-70 cursor-grabbing scale-[1.02];
  transform: rotate(2deg);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3), 0 0 0 1px var(--accent);
  z-index: 100;
}

.kanban-card.archived {
  @apply opacity-50;
  filter: grayscale(30%);
}

.kanban-card.overdue {
  border-left: 3px solid var(--danger);
  background: linear-gradient(145deg, rgba(239, 68, 68, 0.08) 0%, var(--bg-tertiary) 30%);
}

.kanban-card.overdue::before {
  background: linear-gradient(90deg, var(--danger), rgba(239, 68, 68, 0.5));
  @apply opacity-100;
}

.kanban-card.selected {
  border-color: var(--accent);
  background: linear-gradient(145deg, rgba(108, 92, 231, 0.15) 0%, rgba(108, 92, 231, 0.05) 100%);
  box-shadow: 0 0 0 2px rgba(108, 92, 231, 0.2), 0 4px 12px rgba(108, 92, 231, 0.15);
}

.kanban-card.selected::before {
  @apply opacity-100;
}

.kanban-card.keyboard-focus {
  @apply -translate-y-1;
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(108, 92, 231, 0.3), 0 8px 20px rgba(0, 0, 0, 0.2);
  animation: pulse-border 1.5s infinite;
}

@keyframes pulse-border {
  0%, 100% {
    box-shadow: 0 0 0 3px rgba(108, 92, 231, 0.3), 0 8px 20px rgba(0, 0, 0, 0.2);
  }
  50% {
    box-shadow: 0 0 0 5px rgba(108, 92, 231, 0.2), 0 8px 20px rgba(0, 0, 0, 0.2);
  }
}

.checkbox {
  @apply text-xl;
  color: var(--text-muted);
}

.checkbox.checked {
  color: var(--accent);
}

.card-content {
  @apply flex-1 min-w-0;
}

.card-header {
  @apply flex items-center gap-2 mb-2;
}

.card-header .title {
  @apply flex-1 font-medium text-sm truncate cursor-pointer;
}

.card-header .title:hover {
  color: var(--accent);
}

.delete-btn {
  @apply bg-transparent border-none cursor-pointer p-1;
  color: var(--text-muted);
}

.delete-btn:hover {
  color: var(--danger);
}

.quick-edit-input {
  @apply flex-1 rounded p-1.5 text-sm font-medium;
  background: var(--bg-secondary);
  border: 1px solid var(--accent);
  color: var(--text);
}

.quick-edit-input:focus {
  @apply outline-none;
  box-shadow: 0 0 0 2px rgba(108, 92, 231, 0.3);
}

.pin-btn-mini {
  @apply bg-transparent border-none cursor-pointer p-1 text-xs opacity-0 transition-opacity duration-200;
  color: var(--text-muted);
}

.kanban-card:hover .pin-btn-mini {
  @apply opacity-100;
}

.pin-btn-mini:hover {
  color: var(--warning);
}

.pin-btn-mini.pinned {
  @apply opacity-100;
  color: var(--warning);
}

.card-header .priority {
  @apply cursor-pointer transition-transform duration-200;
}

.card-header .priority:hover {
  @apply scale-125;
}

.task-count {
  @apply text-[11px] flex items-center gap-1;
  color: var(--text-muted);
}

.card-meta {
  @apply flex gap-1.5 flex-wrap mt-2;
}

/* Shortcuts Modal */
.shortcuts-overlay {
  @apply fixed inset-0 flex items-center justify-center z-[1000];
  background: rgba(0, 0, 0, 0.7);
}

.shortcuts-modal {
  @apply p-6 min-w-[300px] rounded-xl;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
}

.shortcuts-header {
  @apply flex items-center justify-between mb-5;
}

.shortcuts-header h3 {
  @apply m-0 flex items-center gap-2.5;
}

.shortcuts-header button {
  @apply bg-transparent border-none cursor-pointer text-lg;
  color: var(--text-muted);
}

.shortcuts-list {
  @apply flex flex-col gap-3;
}

.shortcut {
  @apply flex items-center gap-4;
}

kbd {
  @apply px-2.5 py-1 rounded font-mono text-[13px] min-w-[30px] text-center;
  background: var(--bg-tertiary);
  border: 1px solid var(--border);
}

/* Skeleton Loaders */
.skeleton-card {
  @apply rounded-xl p-3;
  background: var(--bg-tertiary);
  border: 1px solid var(--border);
}

.skeleton {
  @apply rounded animate-shimmer;
  background: linear-gradient(90deg, var(--bg-tertiary) 25%, var(--bg-hover) 50%, var(--bg-tertiary) 75%);
  background-size: 200% 100%;
}

.skeleton-title {
  @apply h-4 w-4/5 mb-3;
}

.skeleton-progress {
  @apply h-1.5 w-full mb-2.5 rounded-sm;
}

.skeleton-meta {
  @apply flex gap-2;
}

.skeleton-badge {
  @apply h-5 w-[60px] rounded-xl;
}

/* Confirm Modal */
.confirm-overlay {
  @apply fixed inset-0 flex items-center justify-center z-[1000] animate-fade-in;
  background: rgba(0, 0, 0, 0.7);
}

.confirm-modal {
  @apply rounded-2xl p-8 text-center max-w-[380px];
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  animation: scaleIn 0.2s ease;
}

@keyframes scaleIn {
  from {
    @apply scale-90 opacity-0;
  }
  to {
    @apply scale-100 opacity-100;
  }
}

.confirm-icon {
  @apply w-[60px] h-[60px] rounded-full flex items-center justify-center mx-auto mb-5;
  background: rgba(214, 48, 49, 0.15);
}

.confirm-icon i {
  @apply text-[28px];
  color: var(--danger);
}

.confirm-modal h3 {
  @apply m-0 mb-2.5 text-lg;
}

.confirm-modal p {
  @apply m-0 text-sm;
  color: var(--text-muted);
}

.confirm-warning {
  @apply mt-2 text-xs #{!important};
  color: var(--danger) !important;
}

.confirm-actions {
  @apply flex gap-3 mt-6 justify-center;
}

.btn-cancel {
  @apply px-6 py-2.5 rounded-lg cursor-pointer text-sm transition-all duration-200;
  background: var(--bg-tertiary);
  border: 1px solid var(--border);
  color: var(--text);
}

.btn-cancel:hover {
  background: var(--bg-hover);
}

.btn-danger {
  @apply px-6 py-2.5 border-none rounded-lg text-white cursor-pointer text-sm flex items-center gap-2 transition-all duration-200;
  background: var(--danger);
}

.btn-danger:hover {
  background: #c0392b;
}

/* Bulk Edit Modal */
.modal-overlay {
  @apply fixed inset-0 flex items-center justify-center z-[1000] animate-fade-in;
  background: rgba(0, 0, 0, 0.7);
}

.bulk-edit-modal {
  @apply w-[90%] max-w-[500px] max-h-[80vh] overflow-auto rounded-2xl;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  animation: scaleIn 0.2s ease;
}

.modal-header {
  @apply flex items-center justify-between p-5;
  border-bottom: 1px solid var(--border);
}

.modal-header h3 {
  @apply m-0 flex items-center gap-2.5 text-base;
}

.modal-header button {
  @apply bg-transparent border-none cursor-pointer text-lg;
  color: var(--text-muted);
}

.modal-body {
  @apply p-5;
}

.modal-footer {
  @apply flex justify-end gap-3 p-5;
  border-top: 1px solid var(--border);
}

.bulk-edit-section {
  @apply mb-5;
}

.bulk-edit-section label {
  @apply block text-[13px] font-semibold mb-2.5;
  color: var(--text-muted);
}

.bulk-edit-section label i {
  @apply mr-1.5;
}

.priority-options {
  @apply flex gap-2 flex-wrap;
}

.priority-opt {
  @apply px-3.5 py-2 border-2 rounded-lg cursor-pointer text-xs flex items-center gap-1.5 transition-all duration-200;
  background: var(--bg-tertiary);
  border-color: var(--border);
  color: var(--text);
}

.priority-opt:hover {
  background: var(--bg-hover);
}

.priority-opt.do.active {
  border-color: var(--do);
  background: rgba(255, 107, 107, 0.2);
  color: var(--do);
}

.priority-opt.plan.active {
  border-color: var(--plan);
  background: rgba(78, 205, 196, 0.2);
  color: var(--plan);
}

.priority-opt.delegate.active {
  border-color: var(--delegate);
  background: rgba(255, 165, 2, 0.2);
  color: var(--delegate);
}

.priority-opt.eliminate.active {
  border-color: var(--eliminate);
  background: rgba(99, 110, 114, 0.2);
  color: var(--eliminate);
}

.priority-opt.none.active {
  border-color: var(--accent);
  background: rgba(108, 92, 231, 0.2);
  color: var(--accent);
}

.bulk-edit-section select,
.bulk-edit-section input[type="date"] {
  @apply w-full px-3 py-2.5 rounded-lg text-sm;
  background: var(--bg-tertiary);
  border: 1px solid var(--border);
  color: var(--text);
}

.bulk-edit-section select:focus,
.bulk-edit-section input:focus {
  @apply outline-none;
  border-color: var(--accent);
}

.label-checkboxes {
  @apply flex gap-2 flex-wrap;
}

.label-checkbox {
  @apply flex items-center gap-1.5 px-3 py-1.5 border-2 rounded-full text-xs cursor-pointer transition-all duration-200;
  background: var(--bg-tertiary);
  border-color: var(--border);
}

.label-checkbox:hover {
  background: var(--bg-hover);
}

.label-checkbox input {
  @apply hidden;
}

.label-checkbox input:checked + .label-dot {
  box-shadow: 0 0 0 2px var(--bg-secondary), 0 0 0 4px currentColor;
}

.label-checkbox:has(input:checked) {
  background: var(--bg-hover);
}

.btn-primary {
  @apply px-6 py-2.5 border-none rounded-lg text-white cursor-pointer text-sm flex items-center gap-2 transition-all duration-200;
  background: var(--accent);
}

.btn-primary:hover {
  background: var(--accent-hover);
}

/* Mobile Responsive */
@media (max-width: 900px) {
  .kanban {
    @apply flex-col;
  }

  .kanban-column {
    @apply min-h-0;
  }

  .bulk-actions {
    @apply flex-wrap;
  }

  .bulk-buttons {
    @apply flex-wrap w-full;
  }

  .label-filter {
    @apply ml-0 w-full;
  }

  .label-filter-btn {
    @apply w-full justify-center;
  }
}

@media (max-width: 500px) {
  .filters {
    @apply grid grid-cols-2;
  }

  .filter-btn {
    @apply justify-center px-2.5 py-2 text-[11px];
  }

  .label-filter {
    @apply col-span-2;
  }

  .page-header h2 {
    @apply hidden;
  }

  .select-mode-btn span {
    @apply hidden;
  }
}
