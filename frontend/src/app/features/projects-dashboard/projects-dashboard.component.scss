// Projects Dashboard Component - Tailwind Migration

.page-header {
  @apply flex items-center gap-4 mb-8 py-5;

  i {
    @apply text-[22px] p-3 rounded-xl;
    color: var(--primary);
    background: rgba(99, 102, 241, 0.15);
  }

  h2 {
    @apply text-[28px] flex-1;
    color: var(--text-primary);
  }
}

/* Global Stats */
.global-stats {
  @apply grid gap-5 mb-8;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
}

.stat-card {
  @apply p-6 flex items-center gap-4 rounded-xl transition-all duration-200;
  background: var(--bg-panel);
  border: 1px solid var(--border-subtle);

  &:hover {
    @apply -translate-y-0.5;
    border-color: var(--border-highlight);
  }

  .stat-icon {
    @apply w-14 h-14 rounded-[14px] flex items-center justify-center text-2xl;
  }

  &.accent .stat-icon {
    @apply bg-indigo-500/15;
    color: var(--primary);
  }

  &.info .stat-icon {
    @apply bg-blue-500/15;
    color: var(--color-info);
  }

  &.warning .stat-icon {
    @apply bg-amber-500/15;
    color: var(--color-warning);
  }

  &.success .stat-icon {
    @apply bg-green-500/15;
    color: var(--color-success);
  }

  .stat-info {
    @apply flex flex-col;
  }

  .stat-value {
    @apply text-[28px] font-bold;
    color: var(--text-primary);
    font-family: var(--font-heading);
  }

  .stat-label {
    @apply text-sm;
    color: var(--text-secondary);
  }
}

/* Section Header */
.section-header {
  @apply mb-5;

  h3 {
    @apply text-lg flex items-center gap-2.5;
    color: var(--text-primary);

    i {
      color: var(--primary);
    }
  }
}

/* Projects Grid */
.projects-grid {
  @apply grid gap-5 mb-8;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
}

.project-card {
  @apply p-5 rounded-xl cursor-pointer transition-all duration-200;
  background: var(--bg-panel);
  border: 1px solid var(--border-subtle);

  &:hover {
    @apply -translate-y-0.5;
    border-color: var(--border-highlight);
    box-shadow: var(--shadow-md);
  }

  &.completed {
    border-color: rgba(34, 197, 94, 0.3);
    background: linear-gradient(135deg, var(--bg-panel) 0%, rgba(34, 197, 94, 0.05) 100%);
  }

  .project-header {
    @apply flex items-start gap-3.5 mb-4;
  }

  .project-icon {
    @apply w-12 h-12 rounded-xl flex items-center justify-center text-xl flex-shrink-0;
  }

  .project-title {
    @apply flex-1 min-w-0;

    h4 {
      @apply text-base font-semibold mb-1 whitespace-nowrap overflow-hidden text-ellipsis;
      color: var(--text-primary);
    }

    .project-desc {
      @apply text-xs whitespace-nowrap overflow-hidden text-ellipsis;
      color: var(--text-tertiary);
    }
  }

  .project-stats {
    @apply grid grid-cols-4 gap-2 mb-4;

    .stat {
      @apply text-center py-2 px-1 rounded-lg;
      background: var(--bg-subtle);

      .value {
        @apply block text-lg font-semibold;
        color: var(--text-primary);
      }

      .label {
        @apply block text-[10px] uppercase tracking-wide;
        color: var(--text-tertiary);
      }

      &.todo .value {
        color: var(--color-warning);
      }

      &.in-progress .value {
        color: var(--color-info);
      }

      &.done .value {
        color: var(--color-success);
      }
    }
  }

  .project-progress {
    @apply mb-4;

    .progress-header {
      @apply flex justify-between items-center mb-2 text-xs;
      color: var(--text-secondary);

      .progress-value {
        @apply font-semibold;

        &.high { color: var(--color-success); }
        &.medium { color: var(--color-info); }
        &.low { color: var(--color-warning); }
      }
    }

    .progress-bar-container {
      @apply h-1.5 rounded overflow-hidden;
      background: var(--bg-subtle);
    }

    .progress-bar {
      @apply h-full rounded transition-all duration-300;
    }
  }

  .project-actions {
    @apply flex gap-2 justify-end;

    .action-btn {
      @apply w-9 h-9 rounded-lg flex items-center justify-center cursor-pointer transition-all duration-200;
      background: var(--bg-subtle);
      border: 1px solid var(--border-subtle);
      color: var(--text-secondary);

      &:hover {
        background: var(--bg-hover);
        color: var(--text-primary);
        border-color: var(--border-highlight);
      }

      &.primary {
        @apply text-white;
        background: var(--primary);
        border-color: var(--primary);

        &:hover {
          background: var(--primary-light);
        }
      }
    }
  }
}

/* Dashboard Columns */
.dashboard-columns {
  @apply grid gap-6 mb-8;
  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
}

.card {
  @apply p-5 rounded-xl;
  background: var(--bg-panel);
  border: 1px solid var(--border-subtle);

  .card-header {
    @apply flex items-center justify-between mb-4;

    h3 {
      @apply text-[15px] flex items-center gap-2;
      color: var(--text-primary);

      i {
        color: var(--primary);
      }
    }

    .count {
      @apply px-2.5 py-1 rounded-xl text-xs font-semibold;

      &.accent {
        @apply bg-indigo-500/15;
        color: var(--primary);
      }

      &.warning {
        @apply bg-amber-500/15;
        color: var(--color-warning);
      }
    }
  }
}

.project-list {
  @apply flex flex-col gap-2;
}

.project-item {
  @apply flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-all duration-200;
  background: var(--bg-subtle);

  &:hover {
    background: var(--bg-hover);
  }

  .project-icon-small {
    @apply w-9 h-9 rounded-lg flex items-center justify-center text-sm flex-shrink-0;
  }

  .project-info {
    @apply flex-1 min-w-0;

    .name {
      @apply block text-sm font-medium whitespace-nowrap overflow-hidden text-ellipsis;
      color: var(--text-primary);
    }

    .meta {
      @apply block text-xs;
      color: var(--text-tertiary);

      &.warning {
        color: var(--color-warning);
      }
    }
  }

  .mini-progress-container {
    @apply w-[60px] h-1 rounded overflow-hidden;
    background: var(--bg-hover);

    .mini-progress {
      @apply h-full rounded;
    }
  }

  .progress-text {
    @apply text-xs font-semibold w-10 text-right;
    color: var(--text-secondary);
  }

  .action-btn-small {
    @apply w-7 h-7 rounded-md border-none text-white cursor-pointer flex items-center justify-center text-[11px] transition-all duration-200;
    background: var(--primary);

    &:hover {
      background: var(--primary-light);
    }
  }
}

.empty {
  @apply text-center p-6 text-sm;
  color: var(--text-tertiary);

  i {
    @apply mr-2;
  }

  &.success {
    color: var(--color-success);
  }
}

/* Summary Row */
.summary-row {
  @apply grid gap-4;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
}

.summary-card {
  @apply p-5 flex items-center gap-3.5 rounded-xl;
  background: var(--bg-panel);
  border: 1px solid var(--border-subtle);

  .summary-icon {
    @apply w-11 h-11 rounded-lg flex items-center justify-center text-lg;
  }

  &.active .summary-icon {
    @apply bg-blue-500/15;
    color: var(--color-info);
  }

  &.completed .summary-icon {
    @apply bg-green-500/15;
    color: var(--color-success);
  }

  &.empty-projects .summary-icon {
    @apply bg-zinc-500/15;
    color: var(--text-tertiary);
  }

  .summary-info {
    @apply flex flex-col;
  }

  .summary-value {
    @apply text-2xl font-bold;
    color: var(--text-primary);
    font-family: var(--font-heading);
  }

  .summary-label {
    @apply text-xs;
    color: var(--text-secondary);
  }
}

/* Skeletons */
.skeleton-stat,
.skeleton-card {
  .skeleton {
    @apply rounded-lg;
    background: linear-gradient(90deg, var(--bg-subtle) 25%, var(--bg-hover) 50%, var(--bg-subtle) 75%);
    background-size: 200% 100%;
    animation: skeleton-loading 1.5s infinite;
  }
}

@keyframes skeleton-loading {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

/* Responsive */
@media (max-width: 768px) {
  .global-stats {
    @apply grid-cols-2;
  }

  .projects-grid {
    @apply grid-cols-1;
  }

  .dashboard-columns {
    @apply grid-cols-1;
  }

  .project-card .project-stats {
    @apply grid-cols-2;
  }
}
