// Projects Component - Tailwind Migration

.page-header .count {
  @apply ml-auto px-3.5 py-1.5 rounded-full text-sm;
  background: var(--bg-tertiary);
  color: var(--text-muted);
}

.new-project-form {
  @apply rounded-xl p-5 mb-6;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
}

.form-row {
  @apply flex gap-3 items-center;
}

.icon-picker {
  @apply relative;

  .icon-btn {
    @apply w-12 h-12 rounded-lg text-xl cursor-pointer transition-all duration-200;
    background: var(--bg-tertiary);
    border: 1px solid var(--border);

    &:hover {
      background: var(--border);
    }
  }
}

.icon-dropdown {
  @apply absolute top-full left-0 rounded-lg p-2.5 grid gap-1 z-[100];
  grid-template-columns: repeat(5, 1fr);
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);

  button {
    @apply w-9 h-9 border-none bg-transparent rounded-md cursor-pointer text-base;
    color: var(--text-muted);

    &:hover, &.active {
      @apply text-white;
      background: var(--accent);
    }
  }
}

.color-input {
  @apply w-12 h-12 border-none rounded-lg cursor-pointer bg-transparent;
}

.name-input {
  @apply flex-1 px-4 py-3.5 rounded-lg text-[15px];
  background: var(--bg-tertiary);
  border: 1px solid var(--border);
  color: var(--text);

  &:focus {
    @apply outline-none;
    border-color: var(--accent);
  }
}

.btn-create {
  @apply px-6 py-3.5 border-none rounded-lg text-[15px] font-medium cursor-pointer flex items-center gap-2 transition-all duration-200 text-white;
  background: var(--accent);

  &:hover:not(:disabled) {
    @apply opacity-90;
  }

  &:disabled {
    @apply opacity-50 cursor-not-allowed;
  }
}

.projects-grid {
  @apply grid gap-5;
  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
}

.project-card {
  @apply rounded-xl overflow-hidden transition-all duration-200;
  background: var(--bg-secondary);
  border: 1px solid var(--border);

  &:hover {
    @apply -translate-y-0.5;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  }
}

.card-header {
  @apply p-5 flex gap-4 items-start;
  border-left: 4px solid var(--accent);
}

.project-icon {
  @apply w-12 h-12 rounded-lg flex items-center justify-center text-xl flex-shrink-0;
  background: var(--bg-tertiary);
}

.project-info {
  @apply flex-1 min-w-0;

  h3 {
    @apply m-0 mb-1 text-[17px] font-semibold;
  }

  .description {
    @apply m-0 text-sm leading-relaxed overflow-hidden line-clamp-2;
    color: var(--text-muted);
  }
}

.project-stats {
  @apply flex flex-col items-end gap-1;

  .stat {
    @apply flex items-center gap-1.5 text-sm;
    color: var(--text-muted);
  }
}

.progress-bar {
  @apply w-[60px] h-1.5 rounded overflow-hidden;
  background: var(--bg-tertiary);

  .progress {
    @apply h-full rounded transition-all duration-300;
  }
}

.progress-text {
  @apply text-[11px];
  color: var(--text-muted);
}

.card-actions {
  @apply flex items-center gap-2 px-5 py-4 flex-wrap;
  background: var(--bg-tertiary);
  border-top: 1px solid var(--border);
}

.btn-view,
.btn-detail,
.btn-edit,
.btn-delete,
.btn-whiteboard,
.btn-transform {
  @apply px-3.5 py-2 rounded-md border cursor-pointer text-sm flex items-center justify-center gap-1.5 h-9 box-border transition-all duration-200;
  border-color: transparent;
}

.btn-view {
  @apply text-white;
  background: var(--accent);

  &:hover {
    @apply brightness-110;
  }
}

.btn-detail {
  @apply text-white;
  background: var(--success);

  &:hover {
    @apply brightness-110;
  }
}

.btn-whiteboard {
  @apply text-white;
  background: var(--plan);

  &:hover {
    @apply brightness-110;
  }
}

.btn-edit {
  background: var(--bg-secondary);
  color: var(--text);
  border: 1px solid var(--border);

  &:hover {
    border-color: var(--accent);
  }
}

.btn-delete {
  @apply bg-transparent ml-auto;
  color: var(--danger);

  &:hover {
    @apply bg-red-500/10;
  }
}

.btn-transform {
  background: var(--bg-secondary);
  color: var(--accent);
  border: 1px solid var(--border);

  &:hover {
    @apply bg-indigo-500/10;
    border-color: var(--accent);
  }
}

/* Modal */
.modal-backdrop {
  @apply fixed inset-0 flex items-center justify-center z-[1000];
  background: rgba(0, 0, 0, 0.6);
}

.modal {
  @apply rounded-xl p-6 w-[90%] max-w-[400px];
  background: var(--bg-secondary);
  border: 1px solid var(--border);

  h3 {
    @apply m-0 mb-4 flex items-center gap-2.5;
  }

  p {
    @apply mb-4 text-sm;
    color: var(--text-muted);
  }

  .form-select {
    @apply w-full p-3 rounded-lg text-sm;
    background: var(--bg-tertiary);
    border: 1px solid var(--border);
    color: var(--text);
  }
}

.modal-actions {
  @apply flex gap-3 justify-end mt-5;
}

/* Edit mode */
.project-card.editing {
  border-color: var(--accent);
}

.edit-form {
  @apply p-5;
}

.edit-row {
  @apply flex gap-3 mb-3;
}

.edit-form .color-input {
  @apply w-11 h-11;
}

.edit-form .name-input {
  @apply flex-1 px-3.5 py-3;
}

.desc-input {
  @apply w-full px-3.5 py-3 rounded-lg text-sm resize-y min-h-[80px] mb-3;
  background: var(--bg-tertiary);
  border: 1px solid var(--border);
  color: var(--text);

  &:focus {
    @apply outline-none;
    border-color: var(--accent);
  }
}

.edit-actions {
  @apply flex gap-2.5;
}

.btn-save,
.btn-cancel {
  @apply px-4 py-2.5 rounded-lg border-none cursor-pointer text-sm flex items-center gap-1.5;
}

.btn-save {
  @apply text-white;
  background: var(--success);
}

.btn-cancel {
  background: var(--bg-tertiary);
  color: var(--text);
}

.empty-state {
  @apply flex flex-col items-center justify-center py-20 px-5 text-center;

  i {
    @apply text-6xl opacity-50 mb-5;
    color: var(--text-muted);
  }

  h3 {
    @apply m-0 mb-2.5;
    color: var(--text);
  }

  p {
    @apply m-0;
    color: var(--text-muted);
  }
}

@media (max-width: 768px) {
  .form-row {
    @apply flex-wrap;
  }

  .name-input {
    @apply w-full order-3;
  }

  .btn-create {
    @apply w-full justify-center order-4;
  }

  .projects-grid {
    @apply grid-cols-1;
  }
}
