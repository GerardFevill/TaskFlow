// Velocity Chart Component - Tailwind Migration

:host {
  @apply block;
}

.velocity-container {
  @apply rounded-xl p-4;
  background: var(--bg-secondary, #1a1a2e);
}

.chart-header {
  @apply flex justify-between items-center mb-4 flex-wrap gap-2;

  h4 {
    @apply m-0 text-sm font-semibold;
    color: var(--text-primary, #e8e8f0);
  }

  .average {
    @apply text-xs;
    color: var(--text-secondary, #a0a0b0);

    strong {
      color: #6c5ce7;
    }
  }
}

.chart-body {
  @apply flex h-[180px] gap-2;
}

.y-axis {
  @apply w-[30px] relative flex-shrink-0;
}

.y-label {
  @apply absolute right-1 text-[10px] translate-y-1/2;
  color: var(--text-secondary, #a0a0b0);
}

.bars-container {
  @apply flex-1 flex items-end gap-2 relative pb-6;
  border-bottom: 1px solid var(--border, #3a3a5c);
}

.bar-wrapper {
  @apply flex-1 flex flex-col items-center h-full min-w-[32px] max-w-[60px];
}

.bar {
  @apply w-full rounded-t min-h-1 relative transition-all duration-300 flex justify-center;
  background: linear-gradient(180deg, #6c5ce7 0%, #5849c4 100%);

  &.above-average {
    background: linear-gradient(180deg, #4ecdc4 0%, #3eb5ae 100%);
  }

  .value {
    @apply absolute -top-5 text-[11px] font-semibold;
    color: var(--text-primary, #e8e8f0);
  }
}

.label {
  @apply text-[10px] mt-1.5 text-center max-w-full overflow-hidden text-ellipsis whitespace-nowrap;
  color: var(--text-secondary, #a0a0b0);
}

.average-line {
  @apply absolute left-0 right-0 h-0.5 pointer-events-none;
  background: #ffa502;

  &::before {
    @apply content-[''] absolute -left-1 -top-[3px] w-2 h-2 rounded-full;
    background: #ffa502;
  }

  .average-label {
    @apply absolute -right-2 -top-2 text-[9px] font-semibold;
    color: #ffa502;
  }
}

.chart-footer {
  @apply mt-3 text-center;

  .total {
    @apply text-[11px];
    color: var(--text-secondary, #a0a0b0);
  }
}

.loading, .error {
  @apply text-center py-10 px-5 text-sm;
  color: var(--text-secondary, #a0a0b0);
}

.error {
  color: #ff6b6b;
}

.empty {
  @apply text-center py-10 px-5;
  color: var(--text-secondary, #a0a0b0);

  i {
    @apply text-3xl mb-3 opacity-50;
  }

  p {
    @apply m-0 mb-1 text-sm;
    color: var(--text-primary, #e8e8f0);
  }

  span {
    @apply text-xs;
  }
}
