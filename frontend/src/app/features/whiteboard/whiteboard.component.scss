// Whiteboard Component - Tailwind Migration

:host {
  @apply block w-full h-screen overflow-hidden;
}

.whiteboard-container {
  @apply w-full h-full relative cursor-default overflow-hidden;
  background: var(--bg-primary);

  &.tool-pan {
    @apply cursor-grab;

    &.panning {
      @apply cursor-grabbing;
    }
  }

  &.drawing {
    @apply cursor-crosshair;
  }
}

.canvas-grid {
  @apply absolute pointer-events-none;
  top: -10000px;
  left: -10000px;
  width: 20000px;
  height: 20000px;
  background-image:
    linear-gradient(rgba(108, 92, 231, 0.1) 1px, transparent 1px),
    linear-gradient(90deg, rgba(108, 92, 231, 0.1) 1px, transparent 1px);
  transform-origin: 0 0;
}

.canvas-svg {
  @apply absolute pointer-events-none;
  top: -10000px;
  left: -10000px;
  width: 20000px;
  height: 20000px;
  transform-origin: 0 0;

  rect, ellipse, polygon, line, path {
    @apply pointer-events-auto cursor-move;
  }

  .selected {
    filter: drop-shadow(0 0 4px var(--accent));
  }

  .selection-marquee {
    fill: rgba(108, 92, 231, 0.1);
    stroke: var(--accent);
    stroke-width: 1;
    stroke-dasharray: 5, 3;
  }

  .resize-handle {
    @apply fill-white cursor-pointer;
    stroke: var(--accent);
    stroke-width: 2;
  }

  .handle-nw { @apply cursor-nwse-resize; }
  .handle-ne { @apply cursor-nesw-resize; }
  .handle-se { @apply cursor-nwse-resize; }
  .handle-sw { @apply cursor-nesw-resize; }
  .handle-n, .handle-s { @apply cursor-ns-resize; }
  .handle-e, .handle-w { @apply cursor-ew-resize; }
}

.canvas-html {
  @apply absolute pointer-events-none;
  top: -10000px;
  left: -10000px;
  width: 20000px;
  height: 20000px;
  transform-origin: 0 0;
}

.sticky-note {
  @apply absolute rounded p-3 pointer-events-auto cursor-move flex min-w-[100px] min-h-[80px];
  box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.2);

  &.selected {
    box-shadow: 0 0 0 2px var(--accent), 2px 2px 8px rgba(0, 0, 0, 0.2);
  }
}

.sticky-content {
  @apply w-full h-full text-sm leading-relaxed break-words overflow-hidden;
  color: #333;

  &.editing {
    @apply bg-transparent border-none outline-none resize-none;
    font: inherit;
    color: inherit;
  }
}

.text-element {
  @apply absolute pointer-events-auto cursor-move p-1 min-w-[50px];

  &.selected {
    @apply outline-2 outline;
    outline-color: var(--accent);
  }
}

.text-input.editing {
  @apply bg-transparent border-none outline-none w-full;
  font: inherit;
  color: inherit;
}

.image-element {
  @apply absolute pointer-events-auto cursor-move rounded overflow-hidden;

  &.selected {
    box-shadow: 0 0 0 2px var(--accent);
  }

  img {
    @apply w-full h-full object-contain;
  }
}

.toolbar {
  @apply fixed top-20 left-1/2 -translate-x-1/2 flex gap-1 p-2 rounded-xl z-[100];
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
}

.tool-btn {
  @apply w-10 h-10 flex items-center justify-center border-none bg-transparent rounded-lg cursor-pointer transition-all duration-200;
  color: var(--text);

  &:hover {
    background: var(--bg-tertiary);
  }

  &.active {
    @apply text-white;
    background: var(--accent);
  }
}

.toolbar-divider {
  @apply w-px my-1 mx-1;
  background: var(--border);
}

.color-picker {
  @apply fixed left-1/2 -translate-x-1/2 p-3 rounded-xl z-[100];
  top: 140px;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
}

.color-section {
  @apply flex flex-col gap-2;
}

.color-label {
  @apply text-xs;
  color: var(--text-muted);
}

.color-grid {
  @apply flex gap-1.5 flex-wrap max-w-[200px];
}

.color-btn {
  @apply w-6 h-6 rounded cursor-pointer transition-all duration-200;
  border: 2px solid transparent;

  &:hover {
    @apply scale-110;
  }

  &.active {
    border-color: var(--accent);
  }
}

.zoom-controls {
  @apply fixed bottom-5 right-5 flex gap-2 items-center px-3 py-2 rounded-lg z-[100];
  background: var(--bg-secondary);
  border: 1px solid var(--border);
}

.zoom-btn {
  @apply w-8 h-8 flex items-center justify-center border-none rounded-md cursor-pointer transition-all duration-200;
  background: var(--bg-tertiary);
  color: var(--text);

  &:hover {
    @apply text-white;
    background: var(--accent);
  }
}

.zoom-label {
  @apply min-w-[50px] text-center text-sm;
  color: var(--text);
}

.back-btn {
  @apply fixed top-20 left-5 flex items-center gap-2 px-4 py-2.5 rounded-lg cursor-pointer z-[100] transition-all duration-200;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  color: var(--text);

  &:hover {
    background: var(--bg-tertiary);
  }

  span {
    @apply max-w-[150px] overflow-hidden text-ellipsis whitespace-nowrap;
  }
}
